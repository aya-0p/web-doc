<!doctype html>
<html lang="ja">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/style.css" />
    <meta name="msapplication-square70x70logo" content="/icons/site-tile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="/icons/site-tile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="/icons/site-tile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="/icons/site-tile-310x310.png" />
    <meta name="msapplication-TileColor" content="#ffff00" />
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/favicon.ico" />
    <link rel="icon" type="image/vnd.microsoft.icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180.png" />
    <link rel="icon" type="image/png" sizes="36x36" href="/icons/android-chrome-36x36.png" />
    <link rel="icon" type="image/png" sizes="48x48" href="/icons/android-chrome-48x48.png" />
    <link rel="icon" type="image/png" sizes="72x72" href="/icons/android-chrome-72x72.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/android-chrome-96x96.png" />
    <link rel="icon" type="image/png" sizes="128x128" href="/icons/android-chrome-128x128.png" />
    <link rel="icon" type="image/png" sizes="144x144" href="/icons/android-chrome-144x144.png" />
    <link rel="icon" type="image/png" sizes="152x152" href="/icons/android-chrome-152x152.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="256x256" href="/icons/android-chrome-256x256.png" />
    <link rel="icon" type="image/png" sizes="384x384" href="/icons/android-chrome-384x384.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/icons/android-chrome-512x512.png" />
    <link rel="icon" type="image/png" sizes="36x36" href="/icons/icon-36x36.png" />
    <link rel="icon" type="image/png" sizes="48x48" href="/icons/icon-48x48.png" />
    <link rel="icon" type="image/png" sizes="72x72" href="/icons/icon-72x72.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/icon-96x96.png" />
    <link rel="icon" type="image/png" sizes="128x128" href="/icons/icon-128x128.png" />
    <link rel="icon" type="image/png" sizes="144x144" href="/icons/icon-144x144.png" />
    <link rel="icon" type="image/png" sizes="152x152" href="/icons/icon-152x152.png" />
    <link rel="icon" type="image/png" sizes="160x160" href="/icons/icon-160x160.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="196x196" href="/icons/icon-196x196.png" />
    <link rel="icon" type="image/png" sizes="256x256" href="/icons/icon-256x256.png" />
    <link rel="icon" type="image/png" sizes="384x384" href="/icons/icon-384x384.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/icons/icon-512x512.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png" />
    <link rel="icon" type="image/png" sizes="24x24" href="/icons/icon-24x24.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png" />
    <link rel="manifest" href="/icons/manifest.json" />
  </head>
  <body>
    <p>
      ファイルの閲覧にはMisskeyアカウントでのログインが必要です。<br />
      以下のホスト名を入力した後、リンクをクリックしてログインしてください。
    </p>
    <h3>ログインしたデータの使いみち</h3>
    <ul>
      <li>利用者の<a href="https://misskey-hub.net/ja/docs/for-users/resources/glossary/#acct">Acct</a>を取得</li>
      <li>@hidden@mi.4587-aya-0p.workをフォローしているかを確認</li>
    </ul>
    <h2>ログイン</h2>
    <p>サーバーのホスト名(<code>@user@host</code>の<code>host</code>部分)を入力: <input type="text" id="host" spellcheck="false" autocorrect="off" /></p>
    <p><a id="url" href=""></a></p>
  </body>
  <script>
    const h = document.getElementById("host");
    const u = document.getElementById("url");
    h.addEventListener("input", () => {
      const url = `https://${h.value}/miauth/{misskey_session_id}?callback=https%3A%2F%2Ff2.4587-aya-0p.work%2Fauth%2F${h.value}%3Fpath%3D{path}&name=%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E9%96%B2%E8%A6%A7&icon=https%3A%2F%2F4587-aya-0p.work%2Ficons%2Ficon-512x512.png`;
      u.innerHTML = url;
      u.href = url;
    });
  </script>
</html>
